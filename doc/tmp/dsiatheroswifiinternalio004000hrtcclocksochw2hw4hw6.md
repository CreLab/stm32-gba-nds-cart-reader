# DSi Atheros Wifi - Internal I/O - 004000h - RTC/Clock SOC (hw2/hw4/hw6)


**ATH:004000h - WLAN/SOC_RESET_CONTROL ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0      SI0_RST                                                  |
|       1      UART_RST                                                 |
|       2                                                               |
| MBOX_RST (requires delay before further MBXO access, else hangs 1-2s) |
|       3      -                                                        |
|       4                                                               |
| hw2/hw4: MAC_WARM_RST  ;-moved to 005000h.bit0 in hw6  ;\hw2/hw4 only 
|                                                                       |
|      5      hw2/hw4: MAC_COLD_RST  ;-moved to 005000h.bit1 in hw6  ;/ |
|       6      CPU_WARM_RST                                             |
|       7                                                               |
| hw2/hw4: WARM_RST      ;-moved to 005000h.bit2 in hw6  ;-hw2/hw4 only |
|                                                                       |
| 8      COLD_RST (0=no change, 1=reset)  ;-also in 005000h.bit3 in hw6 |
|       9      RST_OUT                                                  |
|       10                                                              |
| hw2/hw4: VMC_REMAP_RESET   ;removed in hw6             ;-hw2/hw4 only |
|       11     CPU_INIT_RESET                                           |
|       12                                                              |
|     hw4: BB_WARM_RST       ;-moved to 005000h.bit4 in hw6  ;\hw4 only 
|       13     h                                                        |
| w4: BB_COLD_RST       ;-moved to 005000h.bit5 in hw6  ; (not hw2, and |
|       14     h                                                        |
| w4: DEBUG_UART_RST    ;-moved to bit16 in hw6         ;/moved in hw6) |
|       12     hw6: MIT_ADAPTOR_RST                           ;\        
|       13     hw6: MIT_REG_MAPPING_RST                       ;         |
|       14-15  hw6: -                                         ;         |
|       16     hw6: DEBUG_UART_RST ;<-- moved from old bit14  ;         |
|       17     hw6: UART2_RST                                 ;         |
|       18     hw6: CHECKSUM_ACC_RST                          ;         |
|       19     hw6: I2S_MBOX_RST                              ;         |
|       20     hw6: I2S_RST                                   ;         |
|       21     hw6: GE0_RST                                   ;         |
|       22     hw6: MDIO_RST                                  ; hw6     |
|       23     hw6: MMAC_RST                                  ;         |
|       24     hw6: USB_RST                                   ;         |
|       25     hw6: USB_PHY_RST                               ;         |
|       26     hw6: USB_PHY_ARST                              ;         |
|       27     hw6: I2C_SLAVE_RST                             ;         |
|       28     hw6: I2S_1_MBOX_RST                            ;         |
|       29     hw6: I2S_1_RST                                 ;         |
|       30     hw6: SPI2_RST                                  ;         |
|       31     hw6: SDIO2_RST                                 ;/        |
+-----------------------------------------------------------------------+
```


**ATH:004008h - WLAN_TCXO_DETECT ;hw2/hw4 at this address**
**ATH:004004h - SOC_TCXO_DETECT ;hw6 at this address (unlike hw2/hw4)**

```
+-----------------------------------------------------------------------+
|       0      PRESENT                                                  |
+-----------------------------------------------------------------------+
```


**ATH:00400Ch - WLAN_XTAL_TEST ;hw2/hw4 at this address**
**ATH:004008h - SOC_XTAL_TEST ;hw6 at this address (unlike hw2/hw4)**

```
+-----------------------------------------------------------------------+
|       0      NOTCXODET                                                |
+-----------------------------------------------------------------------+
```


**ATH:004020h - WLAN/SOC_CPU_CLOCK ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-1    STANDARD                                                 |
+-----------------------------------------------------------------------+
```


**ATH:004028h - WLAN/SOC_CLOCK_CONTROL ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0      SI0_CLK                                                  |
|       1                                                               |
|   hw2: UART_CLK      ;0=enable?    ;<-- hw2 only (removed in hw4/hw6) |
|       2      LF_CLK32                                                 |
+-----------------------------------------------------------------------+
```



```
+-----------------------------------------------------------------------+
|      _______                                                          |
| _______________________ Watchdog Timer ______________________________ |
+-----------------------------------------------------------------------+
```


**ATH:004030h - WLAN/SOC_WDT_CONTROL - Watchdog Timer Control
;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-2    ACTION                                                   |
+-----------------------------------------------------------------------+
```


**ATH:004034h - WLAN/SOC_WDT_STATUS - Watchdog Interrupt Status
;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0      INTERRUPT                                                |
+-----------------------------------------------------------------------+
```


**ATH:004038h - WLAN/SOC_WDT - Watchdog Timer Target ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-21   TARGET                                                   |
+-----------------------------------------------------------------------+
```


**ATH:00403Ch - WLAN/SOC_WDT_COUNT - Watchdog Timer Count
;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-21   VALUE                                                    |
+-----------------------------------------------------------------------+
```


**ATH:004040h - WLAN/SOC_WDT_RESET - Watchdog Timer Reset
;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0      VALUE                                                    |
+-----------------------------------------------------------------------+
```



```
+-----------------------------------------------------------------------+
|      _______                                                          |
| ______________________ Interrupt Status _____________________________ |
+-----------------------------------------------------------------------+
```


**ATH:004044h - WLAN/SOC_INT_STATUS ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0      WDT_INT        ;-Watchdog Timer                          |
|       1      ERROR                                                    |
|       2      UART           ;-Serial UART                             |
|       3      GPIO           ;-GPIO                                    |
|       4      SI             ;-Serial I2C/SPI                          |
|       5      KEYPAD                                                   |
|       6      LF_TIMER0      ;\                                        
|       7      LF_TIMER1      ; Low-Freq Timer 0..3                     |
|       8      LF_TIMER2      ; and                                     |
|       9      LF_TIMER3      ; High-Freq Timer                         |
|       10     HF_TIMER       ;/                                        |
|       11     RTC_ALARM      ;-Real-Time Clock Alarm                   |
|       12     MAILBOX                                                  |
|                                                                       |
|  13     MAC            ;-maybe this is "MAC's INTA#" (see WMAC IRQ) ? |
|       14     RTC_POWER                                                |
|       15     hw4/hw6: BTCOEX   ;Bluetooth Coex      ;\                
|       16     hw4/hw6: RDMA                          ;                 |
|       17     hw4/hw6: GENERIC_MBOX  (aka GMBOX)     ; hw4/hw6         |
|       18     hw4/hw6: UART_MBOX                     ;                 |
|       19     hw4/hw6: EFUSE_OVERWRITE               ;                 |
|       20     hw4/hw6: THERM                         ;                 |
|       21     hw4/hw6: HCI_UART                      ;/                |
|       22     hw6: MODE_SWITCH                       ;\                
|       23     hw6: RF_SLEEP_RISING                   ;                 |
|       24     hw6: BBP_SLEEP_RISING                  ;                 |
|       25     hw6: FLIGHT_MODE                       ;                 |
|       26     hw6: MIT_REG_ACCESS                    ; hw6 only        |
|       27     hw6: MMAC                              ;                 |
|       28     hw6: USBIP                             ;                 |
|       29     hw6: USBDMA                            ;                 |
|       30     hw6: SDIO2_MBOX                        ;                 |
|       31     hw6: STE_MBOX                          ;/                |
+-----------------------------------------------------------------------+
```


**ATH:0040CCh - WLAN/SOC_INT_STATUS1 ;hw6**

```
+-----------------------------------------------------------------------+
|       0      MAC_1                                  ;\                
|       1      MAC_2                                  ;                 |
|       2      MAC_3                                  ;                 |
|       3      MAC_4                                  ; hw6 only        |
|       4                                                               |
|  CKSUM                                  ; (additional bits, extending |
|       5                                                               |
|    I2C_S                                  ; the bits in port 004044h) |
|       6      GMAC                                   ;                 |
|       7      MDIO                                   ;                 |
|       8      I2S                                    ;                 |
|       9      I2S_1                                  ;/                |
+-----------------------------------------------------------------------+
```



```
+-----------------------------------------------------------------------+
|      _______                                                          |
| ___________ Low-Freq Timer 0-3 and High-Freq Timer __________________ |
+-----------------------------------------------------------------------+
```


**ATH:004048h - WLAN/SOC_LF_TIMER0 ;hw2/hw4/hw6**
**ATH:004058h - WLAN/SOC_LF_TIMER1 ;hw2/hw4/hw6**
**ATH:004068h - WLAN/SOC_LF_TIMER2 ;hw2/hw4/hw6**
**ATH:004078h - WLAN/SOC_LF_TIMER3 ;hw2/hw4/hw6**
**ATH:004088h - WLAN/SOC_HF_TIMER ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|      For LF Timer 0-3:                                                |
|       0-31   TARGET                                                   |
|      For HF Timer:                                                    |
|       12-31  TARGET      ;<-- not bit0-31 for HF timer                |
+-----------------------------------------------------------------------+
```


**ATH:00404Ch - WLAN/SOC_LF_TIMER_COUNT0 ;hw2/hw4/hw6**
**ATH:00405Ch - WLAN/SOC_LF_TIMER_COUNT1 ;hw2/hw4/hw6**
**ATH:00406Ch - WLAN/SOC_LF_TIMER_COUNT2 ;hw2/hw4/hw6**
**ATH:00407Ch - WLAN/SOC_LF_TIMER_COUNT3 ;hw2/hw4/hw6**
**ATH:00408Ch - WLAN/SOC_HF_TIMER_COUNT ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|      For LF Timer 0-3:                                                |
|       0-31   VALUE                                                    |
|      For HF Timer:                                                    |
|       12-31  VALUE       ;<-- not bit0-31 for HF timer                |
+-----------------------------------------------------------------------+
```


**ATH:004090h - WLAN/SOC_HF_LF_COUNT ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-31   VALUE       ;<-- extra for HF timer                      |
+-----------------------------------------------------------------------+
```


**ATH:004050h - WLAN/SOC_LF_TIMER_CONTROL0 ;hw2/hw4/hw6**
**ATH:004060h - WLAN/SOC_LF_TIMER_CONTROL1 ;hw2/hw4/hw6**
**ATH:004070h - WLAN/SOC_LF_TIMER_CONTROL2 ;hw2/hw4/hw6**
**ATH:004080h - WLAN/SOC_LF_TIMER_CONTROL3 ;hw2/hw4/hw6**
**ATH:004094h - WLAN/SOC_HF_TIMER_CONTROL ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|      For both LF and HF:                                              |
|       0      RESET                                                    |
|       1      AUTO_RESTART                                             |
|      For LF Timer 0-3:                                                |
|       2      ENABLE                                                   |
|      For HF Timer:                                                    |
|       2      ON          ;<-- extra bit for HF timer                  |
|       3      ENABLE      ;<-- moved to bit3                           |
+-----------------------------------------------------------------------+
```


**ATH:004054h - WLAN/SOC_LF_TIMER_STATUS0 ;hw2/hw4/hw6**
**ATH:004064h - WLAN/SOC_LF_TIMER_STATUS1 ;hw2/hw4/hw6**
**ATH:004074h - WLAN/SOC_LF_TIMER_STATUS2 ;hw2/hw4/hw6**
**ATH:004084h - WLAN/SOC_LF_TIMER_STATUS3 ;hw2/hw4/hw6**
**ATH:004098h - WLAN/SOC_HF_TIMER_STATUS ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0      INTERRUPT                                                |
+-----------------------------------------------------------------------+
```



```
+-----------------------------------------------------------------------+
|      ______                                                           |
| _______________________ Real-Time Clock _____________________________ |
+-----------------------------------------------------------------------+
```


The DSi does have a battery-backed RTC accessed via Port 4000138h on
ARM7 side. Below SOC_RTC would offer a second RTC, but it isn\'
actually used in DSi (the SOC_RTC registers aren\'t battery-backed, an
the DSi firmware isn\'t initializing them from the ARM7 time either).

**ATH:00409Ch - WLAN/SOC_RTC_CONTROL ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0      LOAD_ALARM                                               |
|       1      LOAD_RTC                                                 |
|       2      ENABLE                                                   |
+-----------------------------------------------------------------------+
```


**ATH:0040A0h - WLAN/SOC_RTC_TIME ;hw2/hw4/hw6**
**ATH:0040A8h - WLAN/SOC_RTC_SET_TIME ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-6    SECOND                                                   |
|       8-14   MINUTE                                                   |
|       16-21  HOUR                                                     |
|       24-26  WEEK_DAY                                                 |
+-----------------------------------------------------------------------+
```


**ATH:0040A4h - WLAN/SOC_RTC_DATE ;hw2/hw4/hw6**
**ATH:0040ACh - WLAN/SOC_RTC_SET_DATE ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-5    MONTH_DAY                                                |
|       8-12   MONTH                                                    |
|       16-23  YEAR                                                     |
+-----------------------------------------------------------------------+
```


**ATH:0040B0h - WLAN/SOC_RTC_SET_ALARM ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-6    SECOND                                                   |
|       8-14   MINUTE                                                   |
|       16-21  HOUR                                                     |
+-----------------------------------------------------------------------+
```


**ATH:0040B4h - WLAN/SOC_RTC_CONFIG ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0      DSE                                                      |
|       1      TWELVE_HOUR                                              |
|       2      BCD                                                      |
+-----------------------------------------------------------------------+
```


**ATH:0040B8h - WLAN/SOC_RTC_ALARM_STATUS ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0      INTERRUPT                                                |
|       1      ENABLE                                                   |
+-----------------------------------------------------------------------+
```



```
+-----------------------------------------------------------------------+
|      ______                                                           |
| ___________________________ Chip ID _________________________________ |
+-----------------------------------------------------------------------+
```


**ATH:0040ECh - WLAN_CHIP_ID ;hw2/hw4 - single ID in hw2/hw4**
**ATH:0040ECh - LEGACY_SOC_CHIP_ID ;hw6 - first/legacy/old ID in hw6**
**ATH:0040F0h - SOC_CHIP_ID ;hw6 - second/actual/new ID in hw6**

```
+-----------------------------------------------------------------------+
|       0-3    VERSION_ID (4bit, usually 0 or 1)                        |
|       4-15   CONFIG_ID (12bit, usually 0)                             |
|       16-31  D                                                        |
| EVICE_ID (16bit, usually xx00h or xx01h for AR60xx, eg. 0D00h=AR6013) |
+-----------------------------------------------------------------------+
```

The DSi Wifi Firmware file contains a list of supported ID(s) for each
chip:

```
+-----------------------------------------------------------------------+
|       A                                                               |
| R6002: 02010001h or 02000001h ;on actual DSi hardware it is 02000001h |
|       A                                                               |
| R6013: 0D000000h or 0D000001h ;on actual DSi hardware it is 0D000000h |
+-----------------------------------------------------------------------+
```

For 3DS:

```
+-----------------------------------------------------------------------+
|       A                                                               |
- | R6014: 0D000001h=[0040ECh]    ;on actual 3DS hardware it is 0D000001h |
+-----------------------------------------------------------------------+
```

Whereas, the DSi is using that value only for verification, not for
actually detecting the installed chip type (that is done by a byte in
SPI FLASH).
Note: There\'s also a \"BB_D2_CHIP_ID\" register in the Baseban
section.


```
+-----------------------------------------------------------------------+
|      _______                                                          |
| ____________________________ Misc ___________________________________ |
+-----------------------------------------------------------------------+
```


**ATH:0040BCh - WLAN/SOC_UART_WAKEUP ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0      ENABLE                                                   |
+-----------------------------------------------------------------------+
```


**ATH:0040C0h - WLAN/SOC_RESET_CAUSE ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-2    Cause of most recent Reset event (LAST)                  |
+-----------------------------------------------------------------------+
```

Possible values are (according to AR6001 datasheet - might be different
in hw2/hw4/hw6):

```
+-----------------------------------------------------------------------+
|       00h = SYS_RST_L pin was asserted                                |
|       01h = Host wrote to the SDIO reset register                     |
|       0                                                               |
| 2h = Software wrote RTC_CONTROL_COLD_RST register (aka COLD_RST bit?) |
|       0                                                               |
| 3h = Software wrote RTC_CONTROL_WARM_RST register (aka WARM_RST bit?) |
|       04h =                                                           |
|  Software wrote RTC_CONTROL_CPU_RST register  (aka CPU_WARM_RST bit?) |
|       05h = Watchdog Timer has expired                                |
|       06h..07h = Reserved                                             |
+-----------------------------------------------------------------------+
```


**ATH:0040C4h - WLAN/SOC_SYSTEM_SLEEP ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0      DISABLE                                                  |
|       1      LIGHT                                                    |
|       2      MAC_IF                                                   |
|       3      MBOX                                                     |
|       4      HOST_IF                                                  |
|       5      hw6: MCI                               ;-hw6 only        |
+-----------------------------------------------------------------------+
```


**ATH:0040C8h - WLAN/SOC_SDIO_WRAPPER ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0      ON                                                       |
|       1      SOC_ON                                                   |
|       2      WAKEUP                                                   |
|       3      SLEEP                                                    |
+-----------------------------------------------------------------------+
```


**ATH:004110h - WLAN/SOC_POWER_REG - located here in hw2**
**ATH:00410Ch - WLAN/SOC_POWER_REG - located here in hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0      POWER_EN                                                 |
|       1      WLAN_PWD_EN                                              |
|       2      hw2: WLAN_SCALE_EN             ;\                        
|       2                                                               |
|      hw4: WLAN_ISO_EN               ; hw2/hw4 (renamed from hw2:SCALE |
|       3                                                               |
|      hw2: SOC_SCALE_EN              ; to hw4:ISO, and removed in hw6) |
|       3      hw4: SOC_ISO_EN                ;/                        |
|       4      RADIO_PWD_EN                                             |
|                                                                       |
|     5      hw2/hw4: WLAN_ISO_CNTL         ;\hw2/hw4 (removed? in hw6) 
|       6      hw2/hw4: WLAN_ISO_DIS          ;/                        |
|       7      CPU_INT_ENABLE                                           |
|                                                                       |
|     8-11   hw2/hw4: VLVL                  ;-hw2/hw4 (removed? in hw6) |
|       12     hw4/hw6: WLAN_MAC_PWD_EN       ;\                        
|       13     hw4/hw6: WLAN_BB_PWD_EN        ; hw4/hw6                 |
|       14     hw4/hw6: DEBUG_EN              ;/                        |
|                                                                       |
| 15     hw4: SLEEP_MAKE_N_BREAK_EN     ;\hw4+hw6, but changed/renamed? 
|       15     hw6: DEEP_SLEEP_EN             ;/                        |
|       16     hw6: DISCON_MODE_EN            ;\hw6                     
|       17     hw6: SWREG_VS_EN               ;/                        |
+-----------------------------------------------------------------------+
```


**ATH:004114h - WLAN/SOC_CORE_CLK_CTRL - located here in hw2**
**ATH:004110h - WLAN/SOC_CORE_CLK_CTRL - located here in hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-2    DIV                                                      |
+-----------------------------------------------------------------------+
```


**ATH:0041C0h - WLAN/SOC_GPIO_WAKEUP_CONTROL - located here in hw2**
**ATH:004114h - WLAN/SOC_GPIO_WAKEUP_CONTROL - located here in
hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0      ENABLE                                                   |
+-----------------------------------------------------------------------+
```


**ATH:004214h - SLEEP_RETENTION ;hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0      ENABLE                                                   |
|       1      MODE                                                     |
|       2-9    TIME                                                     |
+-----------------------------------------------------------------------+
```



```
+-----------------------------------------------------------------------+
|      ______                                                           |
| _____________________________ LPO ___________________________________ |
+-----------------------------------------------------------------------+
```


**ATH:0040D4h - WLAN/SOC_LPO_CAL_TIME ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-13   LENGTH                                                   |
+-----------------------------------------------------------------------+
```


**ATH:0040D8h - WLAN/SOC_LPO_INIT_DIVIDEND_INT ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-23   VALUE                                                    |
+-----------------------------------------------------------------------+
```


**ATH:0040DCh - WLAN/SOC_LPO_INIT_DIVIDEND_FRACTION ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-10   VALUE                                                    |
+-----------------------------------------------------------------------+
```


**ATH:0040E0h - WLAN/SOC_LPO_CAL ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-19   COUNT                                                    |
|       20     ENABLE                                                   |
+-----------------------------------------------------------------------+
```


**ATH:0040E4h - WLAN/SOC_LPO_CAL_TEST_CONTROL ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-4    hw2/hw4: RTC_CYCLES (5bit)     ;\hw2/hw4 (5bit)          
|       5      hw2/hw4: ENABLE                ;/                        |
|       0-15   hw6:     RTC_CYCLES (16bit)    ;\hw6 (expanded to 16bit) 
|       16     hw6:     ENABLE                ;/(and moved enable flag) |
+-----------------------------------------------------------------------+
```


**ATH:0040E8h - WLAN/SOC_LPO_CAL_TEST_STATUS ;hw2/hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-15   COUNT                                                    |
|       16     READY                                                    |
+-----------------------------------------------------------------------+
```



```
+-----------------------------------------------------------------------+
|      ______                                                           |
| ____________________ below in hw4/hw6 only __________________________ |
+-----------------------------------------------------------------------+
```


**ATH:004284h - LP_PERF_COUNTER ;hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0      EN                                                       |
+-----------------------------------------------------------------------+
```


**ATH:004288h - LP_PERF_LIGHT_SLEEP ;hw4/hw6**
**ATH:00428Ch - LP_PERF_DEEP_SLEEP ;hw4/hw6**
**ATH:004290h - LP_PERF_ON - hw4 only**

```
+-----------------------------------------------------------------------+
|       0-31   CNT                                                      |
+-----------------------------------------------------------------------+
```



```
+-----------------------------------------------------------------------+
|      _______                                                          |
| ____________________________ MISC ___________________________________ |
+-----------------------------------------------------------------------+
```


**ATH:0042A8h - CHIP_MODE ;hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-1    BIT                                                      |
+-----------------------------------------------------------------------+
```


**ATH:0042ACh - CLK_REQ_FALL_EDGE ;hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-7    DELAY                                                    |
|       31     EN                                                       |
+-----------------------------------------------------------------------+
```



```
+-----------------------------------------------------------------------+
|      ______                                                           |
| _____________________________ OTP ___________________________________ |
+-----------------------------------------------------------------------+
```


**ATH:0042B0h - OTP ;hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0      VDD12_EN                                                 |
|       1      LDO25_EN                                                 |
+-----------------------------------------------------------------------+
```


**ATH:0042B4h - OTP_STATUS ;hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0      VDD12_EN_READY                                           |
|       1      LDO25_EN_READY                                           |
+-----------------------------------------------------------------------+
```



```
+-----------------------------------------------------------------------+
|      ______                                                           |
| _____________________________ PMU ___________________________________ |
+-----------------------------------------------------------------------+
```


**ATH:0042B8h - PMU ;hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-1    REG_WAKEUP_TIME_SEL                                      |
+-----------------------------------------------------------------------+
```


- **ATH:0042C0h..42C4h - PMU_CONFIG\[0..1\] ;hw4**

```
+-----------------------------------------------------------------------+
|       0-15   VALUE ... whatever... (2x16bit)                          |
|       16-31  -                                                        |
+-----------------------------------------------------------------------+
```

Maybe this arrary entries are equivalent/similar to the PMU_CONFIG and
PMU_PAREG registers in hw6? The hw4 source code is claiming the array
entries to be 16bit wide each, which doesn\'t match up with the tw
5bit/3bit registers on hw6 though.

**ATH:0042BCh - PMU_CONFIG ;hw6**

```
+-----------------------------------------------------------------------+
|       0-4    VALUE                                                    |
+-----------------------------------------------------------------------+
```

- Maybe equivalent/similar to one of the PMU_CONFIG\[0..1\] entries i
hw4?

**ATH:0042C0h - PMU_PAREG ;hw6**

```
+-----------------------------------------------------------------------+
|       0-2    LVL_CTR                                                  |
+-----------------------------------------------------------------------+
```

- Maybe equivalent/similar to one of the PMU_CONFIG\[0..1\] entries i
hw4?


**ATH:0042C8h - PMU_BYPASS ;hw4 at this address**
**ATH:0042C4h - PMU_BYPASS ;hw6 at this address (unlike hw4)**

```
+-----------------------------------------------------------------------+
|       0      hw4/hw6: PAREG                         ;-hw4/hw6 ;\      
|       1                                                               |
|       hw4: DREG      ;-removed in hw6        ;\hw4     ; hw4/hw6 only 
|                                                                       |
|   2      hw4: SWREG     ;-moved to bit1 in hw6  ;/        ; (not hw2) |
|       1      hw6: SWREG     ;-formerly in bit2      ;-hw6     ;/      |
+-----------------------------------------------------------------------+
```



```
+-----------------------------------------------------------------------+
|      _______                                                          |
| _________________________ THERM CTRL ________________________________ |
+-----------------------------------------------------------------------+
```


**ATH:0042DCh - THERM_CTRL1 ;hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0      INT_STATUS                                               |
|       1      INT_EN                                                   |
|       2      MEASURE                                                  |
|       3-4    TYPE                                                     |
|       5-11   WIDTH                                                    |
|       12-15  WIDTH_ARBITOR                                            |
|       16     BYPASS                                                   |
+-----------------------------------------------------------------------+
```


**ATH:0042E0h - THERM_CTRL2 ;hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-7    LOW                                                      |
|       8-15   HIGH                                                     |
|       16-23  SAMPLE                                                   |
|       24     ADC_ON                                                   |
|       25     ADC_OFF                                                  |
+-----------------------------------------------------------------------+
```


**ATH:0042E4h - THERM_CTRL3 ;hw4/hw6**

```
+-----------------------------------------------------------------------+
|       0-7    ADC_OFFSET                                               |
|       8-16   ADC_GAIN                                                 |
+-----------------------------------------------------------------------+
```



```
+-----------------------------------------------------------------------+
|      ______                                                           |
| ______________________ below in hw6 only ____________________________ |
+-----------------------------------------------------------------------+
```


**ATH:0042E8h - LISTEN_MODE1 ;hw6**

```
+-----------------------------------------------------------------------+
|       0      ENABLE                                                   |
|       1      CLOCK_GATE                                               |
|       2      TIMER_OVERFLOW_WAKE                                      |
|       3-18   TIMER_THRESH_WAKE                                        |
|       19     TIMER_CLEAR                                              |
+-----------------------------------------------------------------------+
```


**ATH:0042ECh - LISTEN_MODE2 ;hw6**

```
+-----------------------------------------------------------------------+
|       0-15   TIMER_TRIGGER_WAKE                                       |
+-----------------------------------------------------------------------+
```


**ATH:0042F0h - AUDIO_PLL_CONFIG ;hw6**

```
+-----------------------------------------------------------------------+
|       0-3    REFDIV                                                   |
|       4      BYPASS                                                   |
|       5      PLLPWD                                                   |
|       7-9    POSTPLLDIV                                               |
|       12-14  EXT_DIV                                                  |
|       31     UPDATING                                                 |
+-----------------------------------------------------------------------+
```


**ATH:0042F4h - AUDIO_PLL_MODULATION ;hw6**

```
+-----------------------------------------------------------------------+
|       0      START                                                    |
|       1-6    TGT_DIV_INT                                              |
|       11-28  TGT_DIV_FRAC                                             |
+-----------------------------------------------------------------------+
```


**ATH:0042F8h - AUDIO_PLL_MOD_STEP ;hw6**

```
+-----------------------------------------------------------------------+
|       0-3    UPDATE_CNT                                               |
|       4-13   INT                                                      |
|       14-31  FRAC                                                     |
+-----------------------------------------------------------------------+
```


**ATH:0042FCh - CURRENT_AUDIO_PLL_MODULATION ;hw6**

```
+-----------------------------------------------------------------------+
|       1-6    INT                                                      |
|       10-27  FRAC                                                     |
+-----------------------------------------------------------------------+
```


**ATH:004300h - ETH_PLL_CONFIG ;hw6**

```
+-----------------------------------------------------------------------+
|       0-4    REFDIV                                                   |
|       5      BYPASS                                                   |
|       6      PLLPWD                                                   |
|       7-9    OUTDIV                                                   |
|       12-17  INT                                                      |
|       18-27  FRAC                                                     |
|       28     RANGE                                                    |
|       29     GE0                                                      |
|       30     GE0_MASTER                                               |
+-----------------------------------------------------------------------+
```


**ATH:004304h - CPU_PLL_CONFIG ;hw6**

```
+-----------------------------------------------------------------------+
|       0-4    REFDIV                                                   |
|       6      PLLPWD                                                   |
|       7-9    OUTDIV                                                   |
|       12-17  INT                                                      |
|       20-25  FRAC                                                     |
|       28     RANGE                                                    |
+-----------------------------------------------------------------------+
```


**ATH:004308h - BB_PLL_CONFIG ;hw6**

```
+-----------------------------------------------------------------------+
|       0-17   FRAC                                                     |
+-----------------------------------------------------------------------+
```


**ATH:00430Ch - ETH_XMII ;hw6**

```
+-----------------------------------------------------------------------+
|       0-7    PHASE0_COUNT                                             |
|       8-15   PHASE1_COUNT                                             |
|       16-23  OFFSET_COUNT                                             |
|       24     OFFSET_PHASE                                             |
|       25     GIGE                                                     |
|       26-27  TX_DELAY                                                 |
|       28-29  RX_DELAY                                                 |
|       30     GIGE_QUAD                                                |
|       31     TX_INVERT                                                |
+-----------------------------------------------------------------------+
```


**ATH:004310h - USB_PHY_CONFIG ;hw6**

```
+-----------------------------------------------------------------------+
|       0      HOSTMODE                                                 |
|       1      PLL_PWD                                                  |
|       2      TESTMODE                                                 |
|       3      REFDIV                                                   |
|       4-7    REFCLK_SEL                                               |
+-----------------------------------------------------------------------+
```


**ATH:004314h - MITSUMI_INT_CONTROL_REG ;Mitsumi Interrupt Enable
;hw6**
**ATH:004318h - MITSUMI_INT_STATUS_REG ;Mitsumi Interrupt Status ;hw6**

```
+-----------------------------------------------------------------------+
|       0      MODE_SWITCH                                              |
|       1      RF_SLEEP                                                 |
|       2      BBP_SLEEP                                                |
|       3      FLIGHT_MODE                                              |
+-----------------------------------------------------------------------+
```

Maybe this is related to the Nintendo DSi\'s backwards compatibilty mod
(in which, the Atheros chip is simulating a Mitsumi BB/RF chip for use
with older NDS games)? Or maybe it\'s unrelated to that (DSi/3DS don\'
seem to have hw6 at all).

**ATH:00431Ch - CURRENT_WORKING_MODE ;hw6**

```
+-----------------------------------------------------------------------+
|       0      VALUE                                                    |
|       1      NOT_FIRST_MIT_MODE                                       |
|       2      MIT_REG_WR_TRIGGER_EN                                    |
|       5      MIT_FORCE_ACTIVE_ON                                      |
+-----------------------------------------------------------------------+
```


**ATH:004320h - RTC_SLEEP_COUNT ;hw6**

```
+-----------------------------------------------------------------------+
|       0-5    THRESHOLD                                                |
+-----------------------------------------------------------------------+
```


**ATH:004324h - MIT2_VAP ;hw6**

```
+-----------------------------------------------------------------------+
|       0      MODE                                                     |
+-----------------------------------------------------------------------+
```


**ATH:004328h - SECOND_HOST_INFT ;hw6**

```
+-----------------------------------------------------------------------+
|       0      SDIO_MODE                                                |
+-----------------------------------------------------------------------+
```


**ATH:00432Ch - SDIO_HOST ;hw6**

```
+-----------------------------------------------------------------------+
|       0      RESET                                                    |
+-----------------------------------------------------------------------+
```


**ATH:004330h - ENTERPRISE_CONFIG ;hw6**

```
+-----------------------------------------------------------------------+
|       0      LOCATION_DISABLE                                         |
|       1      LOOPBACK_DISABLE                                         |
|       2      MIN_PKT_SIZE_DISABLE                                     |
|       3      TXBF_DISABLE                                             |
|       4      CH_10MHZ_DISABLE                                         |
|       5      CH_5MHZ_DISABLE                                          |
|       6      CHAIN1_DISABLE                                           |
|       7      DUAL_BAND_DISABLE                                        |
|       8      GREEN_TX_DISABLE                                         |
|       9      LDPC_DISABLE                                             |
|       10     STBC_DISABLE                                             |
|       11     SWCOM_IDLE_MODE                                          |
|       12     TPC_LOWER_PERFORMANCE                                    |
+-----------------------------------------------------------------------+
```


**ATH:004334h - RTC_DEBUG_BUS ;hw6**

```
+-----------------------------------------------------------------------+
|       0      SEL                                                      |
+-----------------------------------------------------------------------+
```


**ATH:004338h - RTC_EXT_CLK_BUF ;hw6**

```
+-----------------------------------------------------------------------+
|       0      EN                                                       |
+-----------------------------------------------------------------------+
```




