# Symbolic Debug Info


If debug info (.SYM or .ELF files) has been loaded, labels will be displayed in disassembled code. And input boxes will recognize labels (eg. for Ctrl+G). TAB in code window toggles symbolic display on and off. Moving the code windows cursor onto a line with a symbol displays the value that hides behind the symbol in the upper left corner of the screen (DOS) or in the status bar (Windows).
Also, if source-level debug info is present, no\$gba allows the user to view his/her source code in \'stacked\' view mode, ie. disassembled opcodes shown below of each source line, this would be important for HLL programs.

### .ELF Files (GBA)
Elf files are binaries, generated by many ARM assemblers and compilers (eg. Nintendo Tools, GNU tools). The files are containing the program (binary executable), and optionally also a symbol table & further debug information (usually in Dwarf2 format, and if present, typically containing source-level debug info).
Current no\$gba version supports loading the binary (game), and the symbol table (similar content as .SYM files, but without additional code+data info), and the source-level debug information.
There seem to be different interpretations of how to store a binary inside of ELF files - as far as I know no\$gba is compatible with all of these \'standards\'.

### .NEF/.SRL Files (NDS)
Nintendo\'s DS devkit outputs ROM-image and debug-info to separate files:

```
+----------------------------------------------------------------------------------+
|       cart.SRL rom-image (without any debug info, same as normal .NDS files)     |
|       cart.NEF the NDS9 debug-info in ELF format (but without program code/data) |
|       cart.NLF contains a path to another .NEF file with NDS7 debug-info         |
+----------------------------------------------------------------------------------+
```

No\$gba v2.2e supports NDS9 debug info, the NDS7 file isn\'t supported yet.

### .SYM Files
When not using ELF files, symbolic Information may be stored in file \<cartname\>.SYM in the same directory than \<cartname\>.GBA. The A22i assembler produces ready-for-use SYM files. When using another assembler, you may convert any debug information into .SYM format.

### .SYM Symbolic Information File Format:

```
+-----------------------------------------------------------------------+
|       ;no$gba symbolic information table example                      |
|       08000000 .arm                                                   |
|       080000C0 start                                                  |
|       08000124 mainloop                                               |
|       080001EC .thumb                                                 |
|       080001EC init_video                                             |
|       08000210 .arm                                                   |
|       08000210 irq_handler                                            |
|       08000228 jumplist                                               |
|       08000228 .dbl:0010                                              |
|       08000414 text_array                                             |
|       08000414 .asc:0017                                              |
|       0800042B .asc:000F                                              |
|       0800043A .asc:0012                                              |
|       06000000 vram_base                                              |
|       ;...                                                            |
+-----------------------------------------------------------------------+
```


All symbols have to be declared as EIGHT-character string nnnnnnnn (hexadecimal memory address, not case sensitive), followed by at least one space or TAB and then followed by the symbol name (the name may contain any characters except spaces and control codes, names are case-sensitive).

### .SYM Additional Code and Data Information
Aside from labels, the file may also contain information about 16bit or 32bt program code areas, and about data zones. This info is stored in the same format as normal labels, but by using the following reserved \"labels\":

```
+-----------------------------------------------------------------------------+
|       .arm          ;following code is in 32bit/ARM format                  |
|       .thumb        ;following code is in 16bit/THUMB format                |
|       .byt:NNNN     ;next NNNN bytes are 8bit data (dcb lines)              |
|       .wrd:NNNN     ;next NNNN bytes are 16bit data (dcw lines)             |
|       .dbl:NNNN     ;next NNNN bytes are 32bit data (dcd lines)             |
|       .asc:NNNN     ;next NNNN bytes are ascii data (quoted dcb lines)      |
|       .pool         ;dummy label (indicates that following is literal pool) |
+-----------------------------------------------------------------------------+
```

The entries may be mixed with normal label definitions, NNNN is a hexadecimal value, it is always counted in BYTES (even when defining 16/32 bit data fields).

There is no need to sort the entries in any way. Empty lines are allowed. Lines starting with \";\" are ignored as comments. Lines are terminated by LF or CRLF or EOF or filesize. The file is terminated by EOF or filesize.



